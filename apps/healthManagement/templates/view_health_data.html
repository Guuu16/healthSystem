{% extends "coach_base.html" %}

{% block title %}View Health Data{% endblock %}

{% block content %}
<div class="row">
    <div class="col s12">
        <div class="card grey darken-3">
            <div class="card-content white-text">
                <span class="card-title">View Health Data</span>
                <form id="select-student-form">
                    <div class="input-field">
                        <select id="student_id" name="student_id" required>
                            <option value="" disabled selected>Choose Student</option>
                            <option value="1">John Doe</option>
                            <option value="2">Jane Smith</option>
                            <option value="3">Tom Brown</option>
                        </select>
                        <label for="student_id">Student</label>
                    </div>
                    <button type="submit" class="btn custom-button">View Health Data</button>
                </form>
                <div id="health-data" class="hide">
                    <h5>Health Data for <span id="student-name"></span></h5>
                    <table class="striped">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Weight (kg)</th>
                                <th>Height (cm)</th>
                                <th>BMI</th>
                                <th>Blood Pressure</th>
                            </tr>
                        </thead>
                        <tbody id="health-data-tbody">
                            <!-- 假数据 -->
                            <tr>
                                <td>2024-07-01</td>
                                <td>70</td>
                                <td>175</td>
                                <td>22.9</td>
                                <td>120/80</td>
                            </tr>
                            <tr>
                                <td>2024-06-01</td>
                                <td>71</td>
                                <td>175</td>
                                <td>23.2</td>
                                <td>118/78</td>
                            </tr>
                        </tbody>
                    </table>
                    <h5>Health Habits</h5>
                    <table class="striped">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Exercise</th>
                                <th>Diet</th>
                                <th>Sleep</th>
                                <th>Other Habits</th>
                            </tr>
                        </thead>
                        <tbody id="health-habits-tbody">
                            <!-- 假数据 -->
                            <tr>
                                <td>2024-07-01</td>
                                <td>30 minutes running</td>
                                <td>Balanced diet</td>
                                <td>8 hours</td>
                                <td>Non-smoker</td>
                            </tr>
                            <tr>
                                <td>2024-06-01</td>
                                <td>20 minutes cycling</td>
                                <td>Vegetarian</td>
                                <td>7 hours</td>
                                <td>Non-smoker</td>
                            </tr>
                        </tbody>
                    </table>
                    <h5>Other Health Data</h5>
                    <table class="striped">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Cholesterol</th>
                                <th>Blood Sugar</th>
                                <th>Heart Rate</th>
                                <th>Comments</th>
                            </tr>
                        </thead>
                        <tbody id="other-health-data-tbody">
                            <!-- 假数据 -->
                            <tr>
                                <td>2024-07-01</td>
                                <td>190 mg/dL</td>
                                <td>90 mg/dL</td>
                                <td>70 bpm</td>
                                <td>Normal</td>
                            </tr>
                            <tr>
                                <td>2024-06-01</td>
                                <td>200 mg/dL</td>
                                <td>95 mg/dL</td>
                                <td>72 bpm</td>
                                <td>Normal</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 引入Materialize JS和其他必要的JS库 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        var elems = document.querySelectorAll('select');
        M.FormSelect.init(elems);

        document.getElementById('select-student-form').addEventListener('submit', function (e) {
            e.preventDefault();
            var studentId = document.getElementById('student_id').value;
            var studentName = document.querySelector(`#student_id option[value="${studentId}"]`).textContent;
            document.getElementById('student-name').textContent = studentName;
            document.getElementById('health-data').classList.remove('hide');
        });
    });
</script>
<style>
    .hide {
        display: none;
    }
</style>
{% endblock %}